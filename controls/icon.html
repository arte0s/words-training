<style>
    :host>*:nth-child(2) {
        /* display: inline-block; */
        /* padding: 0 4px 0 0; */
    }
</style>

<script>
    export default {
        observedAttributes: () => ['data-type'],
        create: that => {

            const render = iconName => {

                if (!that.shadowRoot)
                    return;

                // const name = 'z-icon-' + (iconName || that.shadowRoot.host.getAttribute("data-type"));
                // zoox.framework.load(name);

                const tag = document.createElement('div');
                tag.textContent = 'test';
                const slot = that.shadowRoot.children[1];
                console.log(slot);

                if (iconName)
                    slot.children[0].remove();

                slot.appendChild(tag);
            };

            return {
                connectedCallback: () => render(),
                attributeChangedCallback: (name, oldValue, newValue) => {

                    if (name === 'data-type')
                        render(newValue);
                }
            };
        }
    };
</script>

<template>
    <div>
        <slot></slot>
    </div>
</template>